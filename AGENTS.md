# AGENTS.md ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ò–ò-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ ArcaneAdvisor

## üìå –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
–≠—Ç–æ—Ç —Ñ–∞–π–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã –ò–ò‚Äë—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ **ArcaneAdvisor** –Ω–∞ Expo + React Native + TypeScript.  
–¶–µ–ª—å ‚Äî –æ–±–µ—Å–ø–µ—á–∏—Ç—å –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞.

---

# ‚úîÔ∏è 1. –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

### **–í—Å–µ–≥–¥–∞:**
- –ó–∞–ø—É—Å–∫–∞–π –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤:
  ```bash
  npx tsc --noEmit
  ```
- –£–±–µ–∂–¥–∞–π—Å—è, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
  ```bash
  npx expo start
  ```
- –£—Å—Ç—Ä–∞–Ω—è–π –≤—Å–µ –æ—à–∏–±–∫–∏ TypeScript.
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π `any`. –ï—Å–ª–∏ —Ç–∏–ø –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `unknown` + TODO.

### **–ó–∞–ø—Ä–µ—â–µ–Ω–æ:**
- –ú–µ–Ω—è—Ç—å —Ñ–∞–π–ª—ã –≤–Ω—É—Ç—Ä–∏ `.expo/`
- –•–∞—Ä–¥–∫–æ–¥–∏—Ç—å URL API ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `process.env.EXPO_PUBLIC_API_BASE_URL`
- –°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ axios‚Äë–∫–ª–∏–µ–Ω—Ç—ã (—Ä–∞–∑—Ä–µ—à—ë–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω ‚Äî apiClient)
- –ü–∏—Å–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ `fetch` –Ω–∞–ø—Ä—è–º—É—é

---

# ‚úîÔ∏è 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–í–µ—Å—å –∫–æ–¥ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `src/`.

```
src/
  shared/
    api/
      client.ts
  features/
    <featureName>/
      api/
        *.ts
      components/
        *.tsx
```

### –ü—Ä–∞–≤–∏–ª–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
- –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å (spells, classes, races, weapons‚Ä¶) ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ñ–∏—á–∞.
- –í–Ω—É—Ç—Ä–∏ —Ñ–∏—á–∏ –µ—Å—Ç—å: `api/` + `components/`.
- –û–±—â–∏–π API-–∫–ª–∏–µ–Ω—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ `src/shared/api/client.ts`.

---

# ‚úîÔ∏è 3. –†–∞–±–æ—Ç–∞ —Å API

### –ò—Å–ø–æ–ª—å–∑—É–µ–º:
- **axios** ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –æ–±—â–∏–π –∫–ª–∏–µ–Ω—Ç
- **React Query** ‚Äî –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ API-–∫–ª–∏–µ–Ω—Ç—É:
–§–∞–π–ª `src/shared/api/client.ts` –æ–±—è–∑–∞–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
```ts
const API_BASE_URL = process.env.EXPO_PUBLIC_API_BASE_URL ?? 'http://localhost:8000';

export const apiClient = axios.create({
  baseURL: API_BASE_URL,
  headers: { 'Content-Type': 'application/json' },
});
```

- –î–æ–±–∞–≤–∏—Ç—å interceptor —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—à–∏–±–æ–∫.
- –ù–∏–∫–∞–∫–∏—Ö `fetch()` –≤ –∫–æ–¥–µ.

### –§—É–Ω–∫—Ü–∏–∏ API:
- –ù–∞–∑–≤–∞–Ω–∏–µ –≤ —Å—Ç–∏–ª–µ `getSpells`, `createSpell`, `updateClass`, ‚Ä¶
- –í–æ–∑–≤—Ä–∞—â–∞—é—Ç **—á–∏—Å—Ç—ã–π Promise**:
```ts
export async function getSpells(): Promise<Spell[]> { ... }
```

---

# ‚úîÔ∏è 4. React Query

–ö–æ—Ä–Ω–µ–≤–æ–π layout (`app/_layout.tsx`) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—ë—Ä–Ω—É—Ç –≤:

```tsx
<QueryClientProvider client={queryClient}>
  <Slot />
</QueryClientProvider>
```

### –ü—Ä–∞–≤–∏–ª–∞:
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞–ø—Ä—è–º—É—é.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `useQuery` / `useMutation`.
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π:
  - –∑–∞–≥—Ä—É–∑–∫–∞ (`isLoading`)
  - –æ—à–∏–±–∫–∞ (`isError`)
  - –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
  - —É—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

---

# ‚úîÔ∏è 5. Alias "@/"

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `tsconfig.json`:

```jsonc
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"]
    }
  }
}
```

–í—Å–µ –∏–º–ø–æ—Ä—Ç—ã ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ alias:

```ts
import { apiClient } from '@/shared/api/client';
```

---

# ‚úîÔ∏è 6. Expo Router

–ö–∞–∂–¥–∞—è —Ñ–∏—á–∞ –∏–º–µ–µ—Ç –º–∞—Ä—à—Ä—É—Ç—ã –≤ `app/<feature>/`.

–ü—Ä–∏–º–µ—Ä:
```
app/spells/index.tsx
app/classes/index.tsx
```

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–∞—Ä—à—Ä—É—Ç–∞:
- —Ç–æ–ª—å–∫–æ UI;
- –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–∏—á–∏ (`SpellsList`, `ClassList` –∏ —Ç.–¥.).

---

# ‚úîÔ∏è 7. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ:

```
EXPO_PUBLIC_API_BASE_URL=http://localhost:8000
```

–ó–Ω–∞—á–µ–Ω–∏–µ —á–∏—Ç–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑:

```ts
process.env.EXPO_PUBLIC_API_BASE_URL
```

–ù–∏–∫–∞–∫–∏—Ö —Ö–∞—Ä–¥–∫–æ–¥–æ–≤ –≤ –∫–æ–¥–µ.

---

# ‚úîÔ∏è 8. –ö–æ–º–º–∏—Ç—ã

–ò—Å–ø–æ–ª—å–∑—É–µ–º Conventional Commits.

–ü—Ä–∏–º–µ—Ä—ã:
```
feat: add spells list screen
fix: update api client error handler
refactor: extract spell item component
chore: update tsconfig alias paths
```

---

# ‚úîÔ∏è 9. –ó–∞–ø—Ä–µ—â–µ–Ω–æ

- –º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- —É–¥–∞–ª—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã
- –ø–∏—Å–∞—Ç—å –∫–æ–¥ –±–µ–∑ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- —Å–º–µ—à–∏–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (UI ‚â† API)
- —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Å—Ç–µ–π—Ç –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–µ–∑ –æ–±—Å—É–∂–¥–µ–Ω–∏—è

---

# ‚úîÔ∏è 10. –ß—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–æ–π

- –ö–æ–¥ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π
- –ü—Ä–æ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `expo start`
- React Query —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- API-–∫–ª–∏–µ–Ω—Ç –µ–¥–∏–Ω—ã–π
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ–±–ª—é–¥–µ–Ω–∞ (`src/features/*`)
- –ù–µ—Ç `any`
- –ê–ª–∏–∞—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- –ö–æ–º–º–∏—Ç—ã –º–∞–ª–µ–Ω—å–∫–∏–µ, –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ

---

–ì–æ—Ç–æ–≤–æ. –≠—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ArcaneAdvisor.
